{
  "name": "BUN",
  "abi": [
    {
      "inputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "drone",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "sensor",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "bytes",
          "name": "encryptedData",
          "type": "bytes"
        }
      ],
      "name": "provideDataLog",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "address",
          "name": "wallet",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "bytes",
          "name": "publicKey",
          "type": "bytes"
        },
        {
          "indexed": false,
          "internalType": "enum BUN.ROLE",
          "name": "role",
          "type": "uint8"
        }
      ],
      "name": "registerNewUserLog",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "id",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "drone",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "sensor",
          "type": "address"
        }
      ],
      "name": "requestDataLog",
      "type": "event"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "getRequests",
      "outputs": [
        {
          "internalType": "uint256[]",
          "name": "",
          "type": "uint256[]"
        },
        {
          "internalType": "address[]",
          "name": "",
          "type": "address[]"
        },
        {
          "internalType": "address[]",
          "name": "",
          "type": "address[]"
        },
        {
          "internalType": "bytes[]",
          "name": "",
          "type": "bytes[]"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "internalType": "address",
          "name": "_wallet",
          "type": "address"
        }
      ],
      "name": "getUserPublicKey",
      "outputs": [
        {
          "internalType": "bytes",
          "name": "",
          "type": "bytes"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [],
      "name": "getusers",
      "outputs": [
        {
          "internalType": "address[]",
          "name": "",
          "type": "address[]"
        },
        {
          "internalType": "bytes[]",
          "name": "",
          "type": "bytes[]"
        },
        {
          "internalType": "enum BUN.ROLE[]",
          "name": "",
          "type": "uint8[]"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_id",
          "type": "uint256"
        },
        {
          "internalType": "bytes",
          "name": "_encryptedData",
          "type": "bytes"
        }
      ],
      "name": "provideData",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "internalType": "address",
          "name": "_wallet",
          "type": "address"
        },
        {
          "internalType": "bytes",
          "name": "_publicKey",
          "type": "bytes"
        },
        {
          "internalType": "enum BUN.ROLE",
          "name": "_role",
          "type": "uint8"
        }
      ],
      "name": "registerNewUser",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "request",
      "outputs": [
        {
          "internalType": "address",
          "name": "sensor",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "drone",
          "type": "address"
        },
        {
          "internalType": "bytes",
          "name": "encryptedData",
          "type": "bytes"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": false,
      "inputs": [
        {
          "internalType": "address",
          "name": "_sensor",
          "type": "address"
        }
      ],
      "name": "requestData",
      "outputs": [],
      "payable": false,
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "requestIds",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "user",
      "outputs": [
        {
          "internalType": "address",
          "name": "wallet",
          "type": "address"
        },
        {
          "internalType": "bytes",
          "name": "publicKey",
          "type": "bytes"
        },
        {
          "internalType": "enum BUN.ROLE",
          "name": "role",
          "type": "uint8"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    },
    {
      "constant": true,
      "inputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "name": "userIds",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "payable": false,
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x608060405234801561001057600080fd5b5060016000803373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060020160006101000a81548160ff0219169083600381111561006f57fe5b0217905550336000803373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060023390806001815401808255809150509060018203906000526020600020016000909192909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505061210a806101696000396000f3fe608060405234801561001057600080fd5b506004361061009e5760003560e01c80638796ba8c116100665780638796ba8c146101715780638813ce12146101a15780639dd4cc5d146101c2578063d2ff1e36146101de578063d845a4b3146101fa5761009e565b806311231fe0146100a357806314edccc2146100d35780634635fd68146100f357806346fd4d881461012357806381e7e20e1461013f575b600080fd5b6100bd60048036036100b891908101906114df565b61022c565b6040516100ca9190611ce3565b60405180910390f35b6100db61030f565b6040516100ea93929190611c36565b60405180910390f35b61010d60048036036101089190810190611574565b6106b2565b60405161011a9190611b5f565b60405180910390f35b61013d6004803603610138919081019061159d565b6106ee565b005b610159600480360361015491908101906114df565b610946565b60405161016893929190611bf8565b60405180910390f35b61018b60048036036101869190810190611574565b610a35565b6040516101989190611dc5565b60405180910390f35b6101a9610a56565b6040516101b99493929190611c82565b60405180910390f35b6101dc60048036036101d791908101906114df565b610db1565b005b6101f860048036036101f39190810190611508565b61102c565b005b610214600480360361020f9190810190611574565b6112af565b60405161022393929190611b7a565b60405180910390f35b60606000808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206001018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156103035780601f106102d857610100808354040283529160200191610303565b820191906000526020600020905b8154815290600101906020018083116102e657829003601f168201915b50505050509050919050565b6060806060806002805490506040519080825280602002602001820160405280156103495781602001602082028038833980820191505090505b509050606060028054905060405190808252806020026020018201604052801561038757816020015b60608152602001906001900390816103725790505b50905060606002805490506040519080825280602002602001820160405280156103c05781602001602082028038833980820191505090505b50905060008090505b6002805490508110156106a057600080600283815481106103e657fe5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1684828151811061047b57fe5b602002602001019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff1681525050600080600283815481106104c557fe5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000206001018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156105c15780601f10610596576101008083540402835291602001916105c1565b820191906000526020600020905b8154815290600101906020018083116105a457829003601f168201915b50505050508382815181106105d257fe5b6020026020010181905250600080600283815481106105ed57fe5b9060005260206000200160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060020160009054906101000a900460ff1682828151811061066f57fe5b6020026020010190600381111561068257fe5b9081600381111561068f57fe5b8152505080806001019150506103c9565b50828282955095509550505050909192565b600281815481106106bf57fe5b906000526020600020016000915054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600260038111156106fb57fe5b6000803373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060020160009054906101000a900460ff16600381111561075557fe5b14610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c90611d05565b60405180910390fd5b3373ffffffffffffffffffffffffffffffffffffffff166001600085815260200190815260200160002060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1614610839576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161083090611d25565b60405180910390fd5b600060016000858152602001908152602001600020600201805460018160011615610100020316600290049050146108a6576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161089d90611da5565b60405180910390fd5b81816001600086815260200190815260200160002060020191906108cb9291906113b1565b507ff99fd52ab14017813a2ff4556804bd61ae67c739af507064b118cef50182774e836001600086815260200190815260200160002060010160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16338585604051610939959493929190611e17565b60405180910390a1505050565b60006020528060005260406000206000915090508060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690806001018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610a185780601f106109ed57610100808354040283529160200191610a18565b820191906000526020600020905b8154815290600101906020018083116109fb57829003601f168201915b5050505050908060020160009054906101000a900460ff16905083565b60038181548110610a4257fe5b906000526020600020016000915090505481565b6060806060806060600380549050604051908082528060200260200182016040528015610a925781602001602082028038833980820191505090505b5090506060600380549050604051908082528060200260200182016040528015610acb5781602001602082028038833980820191505090505b5090506060600380549050604051908082528060200260200182016040528015610b045781602001602082028038833980820191505090505b5090506060600380549050604051908082528060200260200182016040528015610b4257816020015b6060815260200190600190039081610b2d5790505b50905060008090505b600380549050811015610d9a5760038181548110610b6557fe5b9060005260206000200154858281518110610b7c57fe5b6020026020010181815250506001600060038381548110610b9957fe5b9060005260206000200154815260200190815260200160002060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16848281518110610be257fe5b602002602001019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff16815250506001600060038381548110610c2d57fe5b9060005260206000200154815260200190815260200160002060010160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16838281518110610c7657fe5b602002602001019073ffffffffffffffffffffffffffffffffffffffff16908173ffffffffffffffffffffffffffffffffffffffff16815250506001600060038381548110610cc157fe5b906000526020600020015481526020019081526020016000206002018054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610d715780601f10610d4657610100808354040283529160200191610d71565b820191906000526020600020905b815481529060010190602001808311610d5457829003601f168201915b5050505050828281518110610d8257fe5b60200260200101819052508080600101915050610b4b565b508383838397509750975097505050505090919293565b600380811115610dbd57fe5b6000803373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060020160009054906101000a900460ff166003811115610e1757fe5b14610e57576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610e4e90611d85565b60405180910390fd5b60026003811115610e6457fe5b6000808373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060020160009054906101000a900460ff166003811115610ebe57fe5b14610efe576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610ef590611d45565b60405180910390fd5b6004600081548092919060010191905055503360016000600454815260200190815260200160002060010160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055508060016000600454815260200190815260200160002060000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550600360045490806001815401808255809150509060018203906000526020600020016000909192909190915055507fcc90fe0b555ad07760900a1c533fb234ccb2d6ce86e37fb6443af234a7d9a4c8600454338360405161102193929190611de0565b60405180910390a150565b6001600381111561103957fe5b6000803373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060020160009054906101000a900460ff16600381111561109357fe5b146110d3576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016110ca90611d65565b60405180910390fd5b836000808673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060000160006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555082826000808773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060010191906111a39291906113b1565b50806000808673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060020160006101000a81548160ff0219169083600381111561120157fe5b021790555060028490806001815401808255809150509060018203906000526020600020016000909192909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff160217905550507fe8ace00ec0657a5d8e99e4fa3f893cc1986b6d18659d3a44637cc31b6a7b6748848484846040516112a19493929190611bb8565b60405180910390a150505050565b60016020528060005260406000206000915090508060000160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff16908060010160009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690806002018054600181600116156101000203166002900480601f0160208091040260200160405190810160405280929190818152602001828054600181600116156101000203166002900480156113a75780601f1061137c576101008083540402835291602001916113a7565b820191906000526020600020905b81548152906001019060200180831161138a57829003601f168201915b5050505050905083565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f106113f257803560ff1916838001178555611420565b82800160010185558215611420579182015b8281111561141f578235825591602001919060010190611404565b5b50905061142d9190611431565b5090565b61145391905b8082111561144f576000816000905550600101611437565b5090565b90565b60008135905061146581612089565b92915050565b60008083601f84011261147d57600080fd5b8235905067ffffffffffffffff81111561149657600080fd5b6020830191508360018202830111156114ae57600080fd5b9250929050565b6000813590506114c4816120a0565b92915050565b6000813590506114d9816120b0565b92915050565b6000602082840312156114f157600080fd5b60006114ff84828501611456565b91505092915050565b6000806000806060858703121561151e57600080fd5b600061152c87828801611456565b945050602085013567ffffffffffffffff81111561154957600080fd5b6115558782880161146b565b93509350506040611568878288016114b5565b91505092959194509250565b60006020828403121561158657600080fd5b6000611594848285016114ca565b91505092915050565b6000806000604084860312156115b257600080fd5b60006115c0868287016114ca565b935050602084013567ffffffffffffffff8111156115dd57600080fd5b6115e98682870161146b565b92509250509250925092565b60006116018383611660565b60208301905092915050565b60006116198383611873565b905092915050565b600061162d83836118e5565b60208301905092915050565b60006116458383611b41565b60208301905092915050565b61165a81611fe1565b82525050565b61166981611f92565b82525050565b61167881611f92565b82525050565b600061168982611ea5565b6116938185611f1b565b935061169e83611e65565b8060005b838110156116cf5781516116b688826115f5565b97506116c183611ee7565b9250506001810190506116a2565b5085935050505092915050565b60006116e782611eb0565b6116f18185611f2c565b93508360208202850161170385611e75565b8060005b8581101561173f5784840389528151611720858261160d565b945061172b83611ef4565b925060208a01995050600181019050611707565b50829750879550505050505092915050565b600061175c82611ebb565b6117668185611f4e565b935061177183611e85565b8060005b838110156117a25781516117898882611621565b975061179483611f01565b925050600181019050611775565b5085935050505092915050565b60006117ba82611ec6565b6117c48185611f3d565b93506117cf83611e95565b8060005b838110156118005781516117e78882611639565b97506117f283611f0e565b9250506001810190506117d3565b5085935050505092915050565b60006118198385611f70565b9350611826838584612029565b61182f8361206b565b840190509392505050565b600061184582611edc565b61184f8185611f70565b935061185f818560208601612038565b6118688161206b565b840191505092915050565b600061187e82611ed1565b6118888185611f5f565b9350611898818560208601612038565b6118a18161206b565b840191505092915050565b60006118b782611ed1565b6118c18185611f70565b93506118d1818560208601612038565b6118da8161206b565b840191505092915050565b6118ee81611ff3565b82525050565b6118fd81611ff3565b82525050565b6000611910602783611f81565b91507f42554e3a204f6e6c792053656e736f722063616e2063616c6c2074686973206660008301527f756e6374696f6e000000000000000000000000000000000000000000000000006020830152604082019050919050565b6000611976601e83611f81565b91507f42554e3a2053656e736f722073686f756c64206265207468652073616d6500006000830152602082019050919050565b60006119b6602483611f81565b91507f42554e3a2053656e736f72206973206e6f74207265676973746572656420626560008301527f666f7265000000000000000000000000000000000000000000000000000000006020830152604082019050919050565b6000611a1c602683611f81565b91507f42554e3a204f6e6c792041646d696e2063616e2063616c6c207468697320667560008301527f6e6374696f6e00000000000000000000000000000000000000000000000000006020830152604082019050919050565b6000611a82602683611f81565b91507f42554e3a204f6e6c792044726f6e652063616e2063616c6c207468697320667560008301527f6e6374696f6e00000000000000000000000000000000000000000000000000006020830152604082019050919050565b6000611ae8602b83611f81565b91507f42554e3a20656e637279707465644461746120686173206265656e2070726f7660008301527f69646564206265666f72650000000000000000000000000000000000000000006020830152604082019050919050565b611b4a81611fd7565b82525050565b611b5981611fd7565b82525050565b6000602082019050611b74600083018461166f565b92915050565b6000606082019050611b8f600083018661166f565b611b9c602083018561166f565b8181036040830152611bae81846118ac565b9050949350505050565b6000606082019050611bcd600083018761166f565b8181036020830152611be081858761180d565b9050611bef60408301846118f4565b95945050505050565b6000606082019050611c0d600083018661166f565b8181036020830152611c1f81856118ac565b9050611c2e60408301846118f4565b949350505050565b60006060820190508181036000830152611c50818661167e565b90508181036020830152611c6481856116dc565b90508181036040830152611c788184611751565b9050949350505050565b60006080820190508181036000830152611c9c81876117af565b90508181036020830152611cb0818661167e565b90508181036040830152611cc4818561167e565b90508181036060830152611cd881846116dc565b905095945050505050565b60006020820190508181036000830152611cfd818461183a565b905092915050565b60006020820190508181036000830152611d1e81611903565b9050919050565b60006020820190508181036000830152611d3e81611969565b9050919050565b60006020820190508181036000830152611d5e816119a9565b9050919050565b60006020820190508181036000830152611d7e81611a0f565b9050919050565b60006020820190508181036000830152611d9e81611a75565b9050919050565b60006020820190508181036000830152611dbe81611adb565b9050919050565b6000602082019050611dda6000830184611b50565b92915050565b6000606082019050611df56000830186611b50565b611e026020830185611651565b611e0f604083018461166f565b949350505050565b6000608082019050611e2c6000830188611b50565b611e39602083018761166f565b611e466040830186611651565b8181036060830152611e5981848661180d565b90509695505050505050565b6000819050602082019050919050565b6000819050602082019050919050565b6000819050602082019050919050565b6000819050602082019050919050565b600081519050919050565b600081519050919050565b600081519050919050565b600081519050919050565b600081519050919050565b600081519050919050565b6000602082019050919050565b6000602082019050919050565b6000602082019050919050565b6000602082019050919050565b600082825260208201905092915050565b600082825260208201905092915050565b600082825260208201905092915050565b600082825260208201905092915050565b600082825260208201905092915050565b600082825260208201905092915050565b600082825260208201905092915050565b6000611f9d82611fb7565b9050919050565b6000819050611fb28261207c565b919050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b6000819050919050565b6000611fec82612005565b9050919050565b6000611ffe82611fa4565b9050919050565b600061201082612017565b9050919050565b600061202282611fb7565b9050919050565b82818337600083830152505050565b60005b8381101561205657808201518184015260208101905061203b565b83811115612065576000848401525b50505050565b6000601f19601f8301169050919050565b6004811061208657fe5b50565b61209281611f92565b811461209d57600080fd5b50565b600481106120ad57600080fd5b50565b6120b981611fd7565b81146120c457600080fd5b5056fea365627a7a72315820034f4dee406898ed94ff53bb54ab42d38cd818bdfb18360900fda3e2fcaa24056c6578706572696d656e74616cf564736f6c63430005100040",
  "gas": 4700000
}
